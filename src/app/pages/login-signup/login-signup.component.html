<!-- login-signup.component.html -->
<app-header></app-header>
<div class="container">
  <div class="form">
    <div class="form-image">
      <img
        src="../../../assets/images/{{ isLoginForm ? 'login' : 'signup' }}.svg"
        alt="{{ isLoginForm ? 'Login' : 'Sign up' }}"
      />
    </div>
    <div class="form-fields">
      <h2>{{ isLoginForm ? "Login" : "Sign Up" }}</h2>
      <form
        [formGroup]="isLoginForm ? loginForm : signupForm"
        (ngSubmit)="onSubmit()"
      >
        <!-- Login Form -->
        <div *ngIf="isLoginForm">
          <div class="form-group">
            <i class="bi bi-person-fill icon"></i>
            <input
              type="text"
              id="username"
              name="username"
              class="form-control"
              placeholder="Your Username"
              formControlName="username"
            />
            <div
              *ngIf="
                loginForm.get('username')?.invalid &&
                loginForm.get('username')?.touched
              "
              class="text-danger"
            >
              <div *ngIf="loginForm.get('username')?.hasError('required')">
                Username is required.
              </div>
            </div>
          </div>
          <div class="form-group">
            <i class="bi bi-lock-fill icon"></i>
            <input
              type="password"
              id="password"
              name="password"
              class="form-control"
              placeholder="Your Password"
              formControlName="password"
            />
            <div
              *ngIf="
                loginForm.get('password')?.invalid &&
                loginForm.get('password')?.touched
              "
              class="text-danger"
            >
              <div *ngIf="loginForm.get('password')?.hasError('required')">
                Password is required.
              </div>
              <div *ngIf="loginForm.get('password')?.hasError('minlength')">
                Password should be at least 5 characters long.
              </div>
            </div>
          </div>
        </div>

        <!-- Signup Form -->
        <div *ngIf="!isLoginForm">
          <div class="form-group">
            <i class="bi bi-person-fill icon"></i>
            <input
              type="text"
              id="name"
              name="name"
              class="form-control"
              placeholder="Your Name"
              formControlName="name"
            />
            <div
              *ngIf="
                signupForm.get('name')?.invalid &&
                signupForm.get('name')?.touched
              "
              class="text-danger"
            >
              <div *ngIf="signupForm.get('name')?.hasError('required')">
                Name is required.
              </div>
              <div *ngIf="signupForm.get('Name')?.hasError('pattern')">
                Name should contain only letters.
              </div>
            </div>
          </div>
          <div class="form-group">
            <i class="bi bi-telephone-fill icon"></i>
            <input
              type="text"
              id="phoneNumber"
              name="phoneNumber"
              class="form-control"
              placeholder="Your Phone Number"
              formControlName="phoneNumber"
            />
            <div
              *ngIf="
                signupForm.get('phoneNumber')?.invalid &&
                signupForm.get('phoneNumber')?.touched
              "
              class="text-danger"
            >
              <div *ngIf="signupForm.get('phoneNumber')?.hasError('required')">
                Phone number is required.
              </div>
              <div *ngIf="signupForm.get('phoneNumber')?.hasError('pattern')">
                Phone number should contain 10 digits.
              </div>
            </div>
          </div>
          <div class="form-group">
            <i class="bi bi-envelope-fill icon"></i>
            <input
              type="email"
              id="email"
              name="email"
              class="form-control"
              placeholder="Your Email"
              formControlName="email"
            />
            <div
              *ngIf="
                signupForm.get('email')?.invalid &&
                signupForm.get('email')?.touched
              "
              class="text-danger"
            >
              <div *ngIf="signupForm.get('email')?.hasError('required')">
                Email is required.
              </div>
              <div *ngIf="signupForm.get('email')?.hasError('email')">
                Please provide a valid email address.
              </div>
            </div>
          </div>
          <div class="form-group">
            <i class="bi bi-person-fill icon"></i>
            <input
              type="text"
              id="username"
              name="username"
              class="form-control"
              placeholder="Your Username"
              formControlName="username"
            />
            <div
              *ngIf="
                signupForm.get('username')?.invalid &&
                signupForm.get('username')?.touched
              "
              class="text-danger"
            >
              <div *ngIf="signupForm.get('username')?.hasError('required')">
                Username is required.
              </div>
            </div>
          </div>
          <div class="form-group">
            <i class="bi bi-lock-fill icon"></i>
            <input
              type="password"
              id="password"
              name="password"
              class="form-control"
              placeholder="Your Password"
              formControlName="password"
            />
            <div
              *ngIf="
                signupForm.get('password')?.invalid &&
                signupForm.get('password')?.touched
              "
              class="text-danger"
            >
              <div *ngIf="signupForm.get('password')?.hasError('required')">
                Password is required.
              </div>
              <div *ngIf="signupForm.get('password')?.hasError('minlength')">
                Password should be at least 5 characters long.
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="isLoginForm ? loginForm.invalid : signupForm.invalid"
          >
            {{ isLoginForm ? "Login" : "Sign Up" }}
          </button>
        </div>

        <p>
          {{
            isLoginForm ? "Don't have an Account?" : "Already have an Account?"
          }}
          <a (click)="toggleForm()">
            {{ isLoginForm ? "Sign Up" : "Login" }}
          </a>
        </p>
      </form>
    </div>
  </div>
</div>
<app-footer></app-footer>